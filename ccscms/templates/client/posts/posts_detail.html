<!DOCTYPE html>
<html lang="en">
<head>
  {%load static%}
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>POST CSC - {{ post.title }}</title>
    <link href="{% static 'vendor/bootstrap-5.3.3-dist/css/bootstrap.min.css' %}" rel="stylesheet">
    <link href="{% static 'post/postDetails_CSC.css' %}" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
    <link href="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/glightbox/dist/css/glightbox.min.css">
</head>
<body>
    
<header class="header">
    <div class="college">
        <a href="#"> College of Computing Studies Student Council</a>
    </div>
</header>

<main class="main">
    <div class="event_header">
      <h1 class="event_title1"><span>WMSU-COLLEGE OF COMPUTING STUDIES</span> | POST</h1>
    </div>
    <!-- Back Arrow Section -->
    <div class="back-arrow-container">
        <a href="{% url 'posts_list' %}" class="back-arrow">
            <i class="bi bi-arrow-left"></i> <!-- Bootstrap Icon -->
        </a>
    </div>

    <div class="event_title_info">
      <p class="category">{{ post.category.get_category_display }}</p>
      <h2 class="event_title">{{ post.title }}</h2>
      <p class="organizer">{{ post.context }}</p>
    </div>
    </section>
</main>

<section class="container py-5">
  <div class="row justify-content-center">
    <div class="col-lg-10">
      <!-- Image Section -->
      {% if main_image %}
      <div class="post-image-container overflow-hidden rounded-top">
        <img src="{{ main_image.image.url }}" alt="{{ post.title }}" class="img-fluid w-100">
      </div>
      {% endif %}

      <!-- Text Content Section -->
      <div class="post-details bg-white shadow rounded-bottom p-4">
        {{ post.content|safe }}

        <p class="mt-4 fw-semibold">Posted on: {{ post.created_at|date:"F d, Y" }}</p>
      </div>
    </div>
  </div>
</section>

<footer class="footer text-white py-4">
  <div class="container text-center">
      <p>&copy; 2025 WMSU - College of Computing Studies Student Council. All Rights Reserved.</p>
      
      <!-- Logos Section -->
      <div class="footer-logos d-flex justify-content-center align-items-center gap-3 mt-3">
          <img src="/static/img/WMSU.jpg" alt="WMSU College Logo" class="footer-logo">
          <img src="/static/img/student_Council.JPG" alt="CCS Student Council Logo" class="footer-logo">
          <img src="/static/img/CCS.jpg" alt="WMSU" class="footer-logo">
      </div>
  </div>
</footer>

    <script src="/static/bootstrap-5.3.3-dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/glightbox/dist/js/glightbox.min.js"></script>
    <script src="/static/script.js"></script>
    <script>
      // Init Lightbox
      const lightbox = GLightbox({ selector: '.glightbox' });

      // Sort functionality
      const sortSelect = document.getElementById('sortSelect');
      const gallery = document.getElementById('gallery');

      sortSelect.addEventListener('change', () => {
        const sortOrder = sortSelect.value;
        const items = Array.from(gallery.querySelectorAll('.gallery-item'));

        if (sortOrder === 'asc' || sortOrder === 'desc') {
          items.sort((a, b) => {
            const dateA = new Date(a.dataset.date);
            const dateB = new Date(b.dataset.date);
            return sortOrder === 'asc' ? dateA - dateB : dateB - dateA;
          });

          // Reorder DOM elements
          items.forEach(item => gallery.appendChild(item));
        }
      });
    </script>
    
</body>
</html>